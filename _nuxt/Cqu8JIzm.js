import{e as h,G as v,q as a,g as y,u as b,c as r,o as i,a as e,b as u,j as w,t as f,w as g,d as m,_}from"#entry";import{_ as k}from"./Co_tMxFC.js";const E={class:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8"},B={class:"sm:mx-auto sm:w-full sm:max-w-md"},M={class:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10"},j={class:"text-center"},N={key:0,class:"space-y-4"},C={key:1,class:"space-y-4"},S={class:"mt-2 text-gray-600"},q={class:"mt-6"},V={key:2,class:"space-y-4"},z={class:"mt-2 text-gray-600"},A={class:"mt-6 space-y-3"},T=h({__name:"confirm",setup(G){const x=v(),l=a(!0),o=a(!1),n=a(""),d=async()=>{try{const s=x.query.token;if(!s)throw new Error("Bestätigungstoken fehlt");const t=await $fetch("/functions/v1/email-confirm",{method:"GET",query:{token:s}});if(t.success)o.value=!0,n.value=t.message||"Ihre E-Mail-Adresse wurde erfolgreich bestätigt.";else throw new Error(t.error||"Bestätigung fehlgeschlagen")}catch(s){o.value=!1,n.value=s instanceof Error?s.message:"Ein unbekannter Fehler ist aufgetreten"}finally{l.value=!1}},p=()=>{l.value=!0,o.value=!1,d()};return y(()=>{d()}),b({title:"E-Mail bestätigen - Newsletter",meta:[{name:"description",content:"Bestätigen Sie Ihre E-Mail-Adresse für den Newsletter"},{name:"robots",content:"noindex, nofollow"}]}),(s,t)=>{const c=_;return i(),r("div",E,[e("div",B,[e("div",M,[e("div",j,[l.value?(i(),r("div",N,[u(w(k),{class:"mx-auto"}),t[0]||(t[0]=e("h2",{class:"text-xl font-semibold text-gray-900"}," E-Mail wird bestätigt... ",-1))])):o.value?(i(),r("div",C,[t[3]||(t[3]=e("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100"},[e("svg",{class:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})])],-1)),e("div",null,[t[1]||(t[1]=e("h2",{class:"text-xl font-semibold text-gray-900"}," Bestätigung erfolgreich! ",-1)),e("p",S,f(n.value),1)]),e("div",q,[u(c,{to:"/",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:g(()=>[...t[2]||(t[2]=[m(" Zur Startseite ",-1)])]),_:1})])])):(i(),r("div",V,[t[6]||(t[6]=e("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100"},[e("svg",{class:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})])],-1)),e("div",null,[t[4]||(t[4]=e("h2",{class:"text-xl font-semibold text-gray-900"}," Bestätigung fehlgeschlagen ",-1)),e("p",z,f(n.value),1)]),e("div",A,[u(c,{to:"/",class:"block w-full text-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:g(()=>[...t[5]||(t[5]=[m(" Zur Startseite ",-1)])]),_:1}),e("button",{onClick:p,class:"block w-full text-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Erneut versuchen ")])]))])])])])}}});export{T as default};
